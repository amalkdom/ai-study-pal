<!DOCTYPE html>
<html>
<head>
    <title>ScholarAI Workspace</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <style>
        body{
            margin:0;
            font-family:'Inter',sans-serif;
            background:#0f172a;
            color:#e2e8f0;
        }

        .layout{
            display:flex;
            height:100vh;
        }

        .sidebar{
            width:220px;
            background:#111827;
            padding:20px;
            border-right:1px solid #1f2937;
        }

        .sidebar h2{
            margin-bottom:30px;
        }

        .nav-btn{
            display:block;
            margin-bottom:10px;
            padding:10px;
            background:#1f2937;
            border-radius:8px;
            text-decoration:none;
            color:white;
            transition:0.3s;
        }

        .nav-btn:hover{
            background:#6366f1;
        }

        .main{
            flex:1;
            display:flex;
        }

        .center{
            flex:2;
            padding:25px;
            overflow-y:auto;
        }

        .studio{
            flex:1;
            background:#111827;
            padding:25px;
            border-left:1px solid #1f2937;
            overflow-y:auto;
        }

        .card{
            background:#1f2937;
            padding:15px;
            border-radius:12px;
            margin-bottom:15px;
            animation:fadeIn 0.5s ease-in;
        }

        textarea,input{
            width:100%;
            padding:10px;
            border-radius:8px;
            border:none;
            background:#0f172a;
            color:white;
            margin-bottom:10px;
        }

        button{
            padding:8px 12px;
            border:none;
            border-radius:8px;
            background:#6366f1;
            color:white;
            cursor:pointer;
            transition:0.3s;
        }

        button:hover{
            background:#4f46e5;
        }

        .keyword{
            display:inline-block;
            background:#6366f1;
            padding:6px 10px;
            border-radius:20px;
            margin:5px;
        }

        .quiz-option{
            background:#0f172a;
            padding:8px;
            border-radius:8px;
            margin-bottom:6px;
        }

        .result-box{
            background:#0ea5e9;
            padding:12px;
            border-radius:10px;
            margin-top:10px;
        }

        @keyframes fadeIn{
            from{opacity:0;transform:translateY(10px);}
            to{opacity:1;transform:translateY(0);}
        }
    </style>
</head>

<body>

<div class="layout">

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>ScholarAI</h2>
        <a href="/workspace" class="nav-btn">Workspace</a>
        <a href="/analytics" class="nav-btn">Analytics</a>
        <a href="/logout" class="nav-btn">Logout</a>
    </div>

    <div class="main">

        <!-- Center -->
        <div class="center">

            <h3>Upload Study Material</h3>

            <div class="card">
                <form method="POST" enctype="multipart/form-data">
                    <input type="file" name="file">
                    <button type="submit">Upload</button>
                </form>
            </div>

        </div>

        <!-- Studio -->
        <div class="studio">

            <h3>AI Studio</h3>

            <!-- Summary -->
            <form method="POST">
                <button name="generate_summary">Generate Summary</button>
            </form>

            {% if summary %}
            <div class="card">
                <h4>Summary</h4>
                <p>{{ summary }}</p>
            </div>
            {% endif %}

            <!-- Keywords -->
            {% if keywords %}
            <div class="card">
                <h4>Mind Map Keywords</h4>
                {% for word in keywords %}
                    <span class="keyword">{{ word }}</span>
                {% endfor %}
            </div>
            {% endif %}

            <!-- Quiz -->
            <form method="POST">
                <button name="generate_quiz">Generate Quiz</button>
            </form>

            {% if quiz %}
            <div class="card">
                <h4>Quiz</h4>
                <form method="POST">
                    {% for q in quiz %}
                        <p><strong>{{ q.question }}</strong></p>
                        {% for opt in q.options %}
                            <div class="quiz-option">
                                <input type="radio" name="answer" value="{{ opt }}" required>
                                {{ opt }}
                            </div>
                        {% endfor %}
                        <hr>
                    {% endfor %}
                    <button name="submit_quiz">Submit Quiz</button>
                </form>
            </div>
            {% endif %}

            {% if result %}
            <div class="result-box">
                {{ result }}
            </div>
            {% endif %}

        </div>

    </div>

</div>

</body>
</html>
